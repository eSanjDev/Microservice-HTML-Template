$(function(){let r=$(".datatables-ajax");r.length&&r.DataTable({serverSide:!0,processing:!0,ajax:"/mock-data/gateways.json",dom:'<"row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6 d-flex justify-content-center justify-content-md-end"f>>t<"row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',columns:[{data:"row_id",title:"ردیف",render:function(a,t,e,n){return n.row+n.settings._iDisplayStart+1}},{data:"name",title:"نام"},{data:"type",title:"نوع",render:function(a,t,e){switch(a){case"bank":return"بانک داخلی";case"international":return"سرویس بین‌الملل";case"crypto":return"رمز ارز";default:return"نامشخص"}}},{data:"currency_supported",title:"ارزها",render:function(a,t,e){return a.join(", ")}},{data:"status",title:"وضعیت",render:function(a,t,e){switch(a){case"active":return'<span class="badge bg-label-success">فعال</span>';case"inactive":return'<span class="badge bg-label-danger">غیرفعال</span>';default:return'<span class="badge bg-label-warning">نامشخص</span>'}}},{data:"actions",title:"عملیات",render:function(a,t,e,n){return'<div class="d-flex align-items-center"><a href="javascript:;" class="text-body dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="ti ti-dots-vertical ti-sm mx-1"></i></a><div class="dropdown-menu dropdown-menu-end m-0"><a href="javascript:;" class="dropdown-item">گزارشات کلی</a><a href="javascript:;" class="dropdown-item">تراکنش ها</a><a href="javascript:;" class="dropdown-item">خطاها</a><a href="javascript:;" class="dropdown-item">ویرایش</a><a href="javascript:;" class="dropdown-item">حذف</a></div></div>'}}],language:{url:"https://cdn.datatables.net/plug-ins/1.11.5/i18n/fa.json"},initComplete:function(){this.api().columns(2).every(function(){var a=this,t=$('<select id="gatewayTypeFilter" class="form-select text-capitalize"><option value="">همه</option></select>').appendTo(".gateway_type").on("change",function(){var e=$.fn.dataTable.util.escapeRegex($(this).val());a.search(e?"^"+e+"$":"",!0,!1).draw()});a.data().unique().sort().each(function(e,n){switch(e){case"bank":t.append('<option value="بانک داخلی">بانک داخلی</option>');break;case"international":t.append('<option value="سرویس بین‌الملل">سرویس بین‌الملل</option>');break;case"crypto":t.append('<option value="رمز ارز">رمز ارز</option>');break}})})}})});
